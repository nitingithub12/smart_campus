
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Campus Navigator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCilupm5HjpxRvsE8RUO4neorgFrXlNg5M&libraries=places"></script>
</head>
<body>
    <header>
        <div class="logo">Smart Campus Navigator</div>
        <div class="profile-icon">Profile</div>
    </header>
    <main>
        <div class="search-bar">
            <input type="text" id="location-input" placeholder="Search for buildings, classrooms, or events...">
        </div>
        <div class="map-container">
            <div id="map" style="width: 100%; height: 400px;"></div>
            <button class="ar-mode-btn">AR Mode</button>
        </div>
        <nav class="navigation-buttons">
            <button id="class-schedule">Class Schedule</button>
            <button id="sos-button">SOS</button>
            <button id="help-center">Help Center</button>
        </nav>
    </main>
    <footer>
        <div class="notifications">Upcoming events, alerts, or important updates</div>
        <div class="settings">Settings</div>
    </footer>
    <script>
        function initMap() {
            // Initialize the map
            const map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 32.6343408, lng: 75.01036597 },
                zoom: 15
            });

            // Create a search box and link it to the UI element.
            const input = document.getElementById('location-input');
            const searchBox = new google.maps.places.SearchBox(input);

            // Bias the SearchBox results towards current map's viewport.
            map.addListener('bounds_changed', () => {
                searchBox.setBounds(map.getBounds());
            });

            searchBox.addListener('places_changed', () => {
                const places = searchBox.getPlaces();

                if (places.length == 0) {
                    return;
                }

                // Clear out the old markers.
                markers.forEach(marker => marker.setMap(null));
                markers = [];

                // For each place, get the icon, name and location.
                const bounds = new google.maps.LatLngBounds();
                places.forEach(place => {
                    if (!place.geometry || !place.geometry.location) {
                        console.log("Returned place contains no geometry");
                        return;
                    }

                    // Create a marker for each place.
                    const marker = new google.maps.Marker({
                        map,
                        title: place.name,
                        position: place.geometry.location
                    });

                    markers.push(marker);

                    if (place.geometry.viewport) {
                        // Only geocodes have viewport.
                        bounds.union(place.geometry.viewport);
                    } else {
                        bounds.extend(place.geometry.location);
                    }
                });
                map.fitBounds(bounds);
            });
        }

        window.onload = initMap;
    </script>
</body>
</html>
